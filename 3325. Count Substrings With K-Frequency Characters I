class Solution {
public:
bool fun(map<char,int>&mp,int k){
    
    for(auto it:mp){
        if(it.second >= k){
            return true;
        }
    }
    return false;
}
    int numberOfSubstrings(string s, int k) {
        
        map<char,int>mp;
        int l = 0;
        int n = s.length();
        int ans = 0;
        for(int i=0;i<s.length();i++){
            mp[s[i]]++;

            while(fun(mp,k)){
                mp[s[l]]--;
                l++;
                ans += (n-i); 
            } 
        }
        return ans;
    }
};
